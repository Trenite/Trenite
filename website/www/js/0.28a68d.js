(window.webpackJsonp=window.webpackJsonp||[]).push([[0,16,18],{156:function(e,t,n){},159:function(e,t,n){},171:function(e,t,n){},172:function(e,t,n){},173:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var a=n(15),r=n.n(a),i=n(19),c=n.n(i),o=n(4),l=n.n(o),s=n(5),u=n.n(s),d=n(6),m=n.n(d),p=n(3),f=n.n(p),h=n(2),v=n.n(h),M=n(0),g=n.n(M),y=n(8),E=n(20),k=n(169),w=n.n(k),D=(n(171),n(34));function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=v()(e);if(t){var r=v()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return f()(this,n)}}function j(e){var t=e.type,n=e.name,a=e.active,r=e.id;return g.a.createElement(y.q,{id:r,divider:"category"===t,className:a?"active":"",text:n},"text"===t?g.a.createElement("img",{src:D.a}):"voice"===t?g.a.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGFyaWEtaGlkZGVuPSJmYWxzZSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGZpbGw9IiM3Mjc2N2QiIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTEuMzgzIDMuMDc5MDRDMTEuMDA5IDIuOTI1MDQgMTAuNTc5IDMuMDEwMDQgMTAuMjkzIDMuMjk2MDRMNiA4LjAwMjA0SDNDMi40NSA4LjAwMjA0IDIgOC40NTMwNCAyIDkuMDAyMDRWMTUuMDAyQzIgMTUuNTUyIDIuNDUgMTYuMDAyIDMgMTYuMDAySDZMMTAuMjkzIDIwLjcxQzEwLjU3OSAyMC45OTYgMTEuMDA5IDIxLjA4MiAxMS4zODMgMjAuOTI3QzExLjc1NyAyMC43NzIgMTIgMjAuNDA3IDEyIDIwLjAwMlY0LjAwMjA0QzEyIDMuNTk5MDQgMTEuNzU3IDMuMjMyMDQgMTEuMzgzIDMuMDc5MDRaTTE0IDUuMDAxOTVWNy4wMDE5NUMxNi43NTcgNy4wMDE5NSAxOSA5LjI0NTk1IDE5IDEyLjAwMkMxOSAxNC43NTkgMTYuNzU3IDE3LjAwMiAxNCAxNy4wMDJWMTkuMDAyQzE3Ljg2IDE5LjAwMiAyMSAxNS44NjMgMjEgMTIuMDAyQzIxIDguMTQyOTUgMTcuODYgNS4wMDE5NSAxNCA1LjAwMTk1Wk0xNCA5LjAwMTk1QzE1LjY1NCA5LjAwMTk1IDE3IDEwLjM0OSAxNyAxMi4wMDJDMTcgMTMuNjU3IDE1LjY1NCAxNS4wMDIgMTQgMTUuMDAyVjEzLjAwMkMxNC41NTEgMTMuMDAyIDE1IDEyLjU1MyAxNSAxMi4wMDJDMTUgMTEuNDUxIDE0LjU1MSAxMS4wMDIgMTQgMTEuMDAyVjkuMDAxOTVaIj48L3BhdGg+PC9zdmc+Cg=="}):null)}var x=function(e){m()(n,e);var t=N(n);function n(e){var a;return l()(this,n),(a=t.call(this,e)).state={active:a.props.default||null},a}return u()(n,[{key:"select",value:function(e){this.setState({active:e});var t=this.channels.find((function(t){return t.id===e}));if(t){var n="Channel was removed";null!==t.id&&(n="Channel set to #".concat(t.name)),app.toast.create({text:n.escapeHTML(),closeTimeout:1500,closeButton:!0,horizontalPosition:"center",position:this.props.device.desktop?"bottom":"top"}).open(),this.props.onSelect&&this.props.onSelect(t)}}},{key:"onMenu",value:function(e){if(e.target.classList.contains("menu-dropdown-item")){var t=e.target.id;t||(t=null),this.select(t)}}},{key:"onSelect",value:function(e){var t=e.target.value;"null"===t&&(t=null),this.select(t)}},{key:"render",value:function(){var e=this;if(!this.props.guild||!this.props.guild.channels)return g.a.createElement("div",null);var t=this.channels,n=t.find((function(t){return t.id===e.state.active}));if(n||(n=t[0]),this.props.device.desktop)return g.a.createElement(y.o,{className:"channeldropdown noselect"},g.a.createElement(y.r,{onClick:this.onMenu.bind(this),text:n.name,dropdown:!0},g.a.createElement(y.p,{left:!0,contentHeight:"200px"},t.map((function(t){return g.a.createElement(j,w()({key:t.id,active:t.id===e.state.active},t))})))));var a=t.filter((function(e){return"category"===e.type}));return a.forEach((function(e){e.channels=t.filter((function(t){return t.parent===e.id}))})),g.a.createElement("div",{className:"menu channeldropdown noselect"},g.a.createElement("div",{className:"menu-inner"},g.a.createElement("div",{className:"menu-item menu-item-dropdown"},g.a.createElement("select",{onChange:this.onSelect.bind(this),className:"menu-item-content"},g.a.createElement("option",{value:"null",selected:null===this.state.active},"No-Channel"),a.map((function(t){return g.a.createElement("optgroup",{label:t.name.toUpperCase()},t.channels.map((function(t){return g.a.createElement("option",{value:t.id,selected:t.id===e.state.active},"text"===t.type&&"#","voice"===t.type&&"ðŸ”ˆ",t.name)})))}))))))}},{key:"channels",get:function(){var e=this,t=[{name:"No-Channel",id:null,parent:null}].concat(this.props.guild.channels);t=t.filter((function(t){return t.type===e.props.type||"category"===t.type||null===t.id}));for(var n=[],a=0;a<t.length-1;a++)"category"===t[a].type&&"category"===t[a+1].type&&null!==t[a].id||n.push(t[a]);return n}}]),n}(M.Component),A=Object(E.b)((function(e){return{guild:e.guild,device:e.device}}))(x),b=n(12),I=n.n(b);n(172);function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=v()(e);if(t){var r=v()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return f()(this,n)}}var S=function(e){m()(n,e);var t=T(n);function n(e){var a;return l()(this,n),(a=t.call(this,e)).state={active:a.props.default||null,selected:[],opened:!1},a}return u()(n,[{key:"componentDidMount",value:function(){this.UNSAFE_componentWillReceiveProps()}},{key:"UNSAFE_componentWillReceiveProps",value:function(){var e=this.roles,t=this.props.selected.map((function(t){return e.find((function(e){return e.id===t}))})).filter((function(e){return!!e}));this.setState({selected:t})}},{key:"open",value:function(){this.setState({opened:!0})}},{key:"close",value:function(){this.setState({opened:!1})}},{key:"oneOnMenu",value:function(e){if(e.target.classList.contains("menu-dropdown-item")){var t=e.target.id;t||(t=null),this.oneSelect(t)}}},{key:"oneSelect",value:function(e){var t=this.roles.find((function(t){return t.id===e}));if(t){this.setState({active:e});var n="Role was removed";null!==t.id&&(n='Role set to <span style="color: '.concat(t.color,'">').concat(t.name.escapeHTML(),"</span>")),app.toast.create({text:n,closeTimeout:1500,horizontalPosition:"center",closeButton:!0}).open(),this.props.onSelect&&this.props.onSelect(t)}}},{key:"oneOnSelect",value:function(e){var t=e.target.value;"null"===t&&(t=null),this.oneSelect(t)}},{key:"selectRole",value:function(e){var t=e.currentTarget.checked,n=e.currentTarget.parentElement.parentElement.id;if(t){var a=this.roles.find((function(e){return e.id===n}));if(!a)return;var r=[].concat(I()(this.state.selected),[a])}else r=this.state.selected.filter((function(e){return e.id!==n}));this.setState({selected:r}),this.props.onSelect&&this.props.onSelect(r)}},{key:"remove",value:function(e){var t=e.currentTarget.parentElement.id,n=this.state.selected.filter((function(e){return e.id!==t}));this.setState({selected:n})}},{key:"render",value:function(){var e=this;if(!this.props.guild||!this.props.guild.roles)return g.a.createElement("div",null);var t=this.props,n=(t.guild,t.multiple,t.one),a=this.roles,r=a.find((function(t){return t.id===e.state.active}));return r||(r=a[0]),n?this.props.device.desktop?g.a.createElement(y.o,{className:"channeldropdown noselect"},g.a.createElement(y.r,{onClick:this.oneOnMenu.bind(this),text:r.name,style:{color:r.color},dropdown:!0},g.a.createElement(y.p,{left:!0,contentHeight:"200px"},a.map((function(t){return g.a.createElement(y.q,{key:t.id,id:t.id,className:t.id===e.state.active?"active":"",text:t.name,style:{color:t.color}})}))))):g.a.createElement("div",{className:"menu channeldropdown noselect"},g.a.createElement("div",{className:"menu-inner"},g.a.createElement("div",{className:"menu-item menu-item-dropdown"},g.a.createElement("select",{onChange:this.oneOnSelect.bind(this),className:"menu-item-content"},a.map((function(t){return g.a.createElement("option",{key:t.id||"null",value:t.id||"null",selected:t.id===e.state.active},t.name)})))))):[g.a.createElement("div",{className:"roledropdown noselect"},this.state.selected.sort((function(e,t){return t.rawPosition-e.rawPosition})).map((function(t){return g.a.createElement("span",{key:t.id,id:t.id,className:"role",style:{color:t.color}},g.a.createElement("span",{onClick:e.remove.bind(e),className:"circle"},g.a.createElement("svg",{"aria-hidden":"true",className:"hover",width:"12",height:"12",viewBox:"0 0 12 12"},g.a.createElement("g",{fill:"none",fillRule:"evenodd"},g.a.createElement("path",{d:"M0 0h12v12H0"}),g.a.createElement("path",{className:"fill",fill:"#2f3136",d:"M9.5 3.205L8.795 2.5 6 5.295 3.205 2.5l-.705.705L5.295 6 2.5 8.795l.705.705L6 6.705 8.795 9.5l.705-.705L6.705 6"})))),g.a.createElement("span",{className:"text"},t.name))})),g.a.createElement(y.k,{popoverOpen:".roleListPopover",onClick:this.open.bind(this),className:"role pointer",style:{color:"#4f545c"}},g.a.createElement("svg",{width:"7",height:"7",viewBox:"0 5 7 7"},g.a.createElement("g",{fill:"#b9bbbe"},g.a.createElement("path",{d:"M3 5h1v7H3z"}),g.a.createElement("path",{d:"M0 8h7v1H0z"}))))),g.a.createElement(y.z,{opened:this.state.opened,onPopoverClosed:this.close.bind(this),className:"roleListPopover noselect",closeByOutsideClick:!0,closeOnEscape:!0,closeByBackdropClick:!0,backdrop:!1},g.a.createElement(y.l,null,a.map((function(t){return g.a.createElement(y.n,{id:t.id,key:t.id,onChange:e.selectRole.bind(e),checkbox:!0,title:t.name,name:"rolelist-popover",checked:!!e.state.selected.find((function(e){return e.id===t.id}))})})))),,]}},{key:"roles",get:function(){var e=(this.props.guild.roles||[]).sort((function(e,t){return t.rawPosition-e.rawPosition})).map((function(e){return"#000000"===e.color&&(e.color="rgb(185, 187, 190)"),e}));return this.props.one&&e.unshift({id:null,color:"rgb(185, 187, 190)",name:"No-Role"}),e}}]),n}(M.Component),C=Object(E.b)((function(e){return{guild:e.guild,device:e.device}}))(S),R=(n(173),n(177)),L=(n(170),n(174)),z=n.n(L);function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=v()(e);if(t){var r=v()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return f()(this,n)}}var P=function(e){m()(n,e);var t=O(n);function n(e){var a;return l()(this,n),(a=t.call(this,e)).contentEditable=g.a.createRef(),a.state={value:""},a}return u()(n,[{key:"addEmoji",value:function(e){this.setState({value:this.parseValue(this.state.value+e.colons)})}},{key:"input",value:function(e){this.setState({value:this.parseValue(e.target.value)})}},{key:"parseValue",value:function(e){var t=this.props.guild;return(e.match(/:\w+:/g)||[]).forEach((function(n){e=e.replace(new RegExp(n),'<span contenteditable="true">'.concat(Object(R.a)({html:!0,set:"twitter",emoji:n,size:16,fallback:function(e,n){var a=n.emoji,r=t.emojis.find((function(e){return e.id===a.slice(1,a.length-1)}));return r&&(r=r.url),e?":".concat(e.short_names[0],":"):'<span style="width: 16px; height: 16px; display: inline-block; background-image: url(&quot;'.concat(r,'&quot;); background-size: cover; background-position: 62.5% 12.5%;" aria-label="ðŸš°, potable_water" class="emoji-mart-emoji"></span>')}}),"</span>&nbsp;"))})),e}},{key:"render",value:function(){var e=this.props,t=(e.tags,e.guild);if(!t.selected)return g.a.createElement("div",null,"Select a guild first");var n=t.emojis,a=(t.name,n.map((function(e){return{name:e.id,short_names:[e.id],imageUrl:e.url,text:"",emoticons:[],keywors:[e.name]}})));return g.a.createElement(M.Fragment,null,g.a.createElement("div",{className:"text-editor text-editor-resizable"},g.a.createElement("div",{className:"my-text-editor-content"},g.a.createElement(z.a,{className:"text-editor-content",innerRef:this.contentEditable,html:this.state.value,disabled:!1,onChange:this.input.bind(this)}),g.a.createElement(y.k,{popoverOpen:".emoji-menu",contentEditable:!1},g.a.createElement(R.a,{emoji:"upside_down_face",size:24,set:"twitter",fallback:function(e,t){return e?":".concat(e.short_names[0],":"):t.emoji}})))),g.a.createElement(y.z,{className:"emoji-menu",closeOnEscape:!0,backdrop:!1,closeByOutsideClick:!0,closeByBackdropClick:!0},g.a.createElement(R.b,{notFound:function(){return g.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",height:"100%"}},g.a.createElement("img",{src:"/assets/icons/notfound.svg"}),g.a.createElement("span",{style:{margin:"1rem",color:"#72767d"}},"No Emojis found"))},include:["custom","symbols","objects","people","nature","foods","activity","places"],autoFocus:!0,showSkinTones:!1,showPreview:!1,custom:a,set:"twitter",onSelect:this.addEmoji.bind(this),theme:"dark",sheetSize:64})))}}]),n}(M.Component),U=Object(E.b)((function(e){return{device:e.device,guild:e.guild}}))(P),Q=n(16);n(156),n(159);function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=v()(e);if(t){var r=v()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return f()(this,n)}}var W=function(e){m()(a,e);var t,n=B(a);function a(e){return l()(this,a),n.call(this,e)}return u()(a,[{key:"roleChange",value:function(e){console.log("role changed",e)}},{key:"save",value:(t=c()(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q.a.request.post("/api/bot/commands/setup/welcome",{}));case 1:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){return g.a.createElement(y.w,{className:"command"},g.a.createElement(y.v,{sliding:!0},g.a.createElement(y.s,{sliding:!0},g.a.createElement(y.k,{iconF7:"bars",panelOpen:"left",className:"text-color-white"})),g.a.createElement(y.u,{sliding:!0},this.props.guild.name)),g.a.createElement("div",{className:"container"},g.a.createElement(y.d,{className:"title",large:!0},"Welcome",g.a.createElement(y.C,null)),g.a.createElement(A,{type:"text"}),g.a.createElement("br",null),g.a.createElement(C,{onSelect:this.roleChange,multiple:!0,selected:["683027063808327745","689887835800469509"]}),g.a.createElement(U,null)))}},{key:"settings",get:function(){var e;return this.props.guild.selected?(e=this.props.guild.settings,welcomeChannel=e.welcomeChannel,welcomeText=e.welcomeText,welcomePrivate=e.welcomePrivate,welcomeRoles=e.welcomeRoles,e):{}}}]),a}(M.Component);t.default=Object(E.b)((function(e){return{guild:e.guild}}))(W)}}]);